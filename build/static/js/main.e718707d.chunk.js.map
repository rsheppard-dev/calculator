{"version":3,"sources":["components/Button.js","components/Display.js","App.js","index.js"],"names":["Button","btn","input","setInput","currentNumber","setCurrentNumber","setOperator","previousNumber","setPreviousNumber","operator","equalPressed","setEqualPressed","className","class","calculateSum","newInput","undefined","endsWith","substring","length","inputArray","split","numbers","operators","i","isNaN","match","push","parseFloat","reduce","total","value","index","safeEval","handleClick","type","regex","RegExp","Math","sign","Number","replace","abs","reverseNumber","num","toString","op","appendOperator","includes","id","onClick","label","Display","ReactHTMLParser","App","useState","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mNA6JeA,EA7JA,SAAC,GAAwJ,IAAtJC,EAAqJ,EAArJA,IAAKC,EAAgJ,EAAhJA,MAAOC,EAAyI,EAAzIA,SAAUC,EAA+H,EAA/HA,cAAeC,EAAgH,EAAhHA,iBAA+DC,GAAiD,EAA9FC,eAA8F,EAA9EC,kBAA8E,EAA3DC,SAA2D,EAAjDH,aAAaI,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,gBAEvIC,EAAS,cAAUX,EAAIY,OAyGvBC,EAAe,WACjBH,GAAgB,GAChB,IAAII,OAAWC,EAGXd,EAAMe,SAAS,cACfF,EAAWb,EAAMgB,UAAU,EAAGhB,EAAMiB,OAAS,IAC7ChB,EAASY,IAEbV,EA/Ga,SAACU,GAEd,IAAKb,EACD,OAAOE,EAQX,IALA,IAAMgB,EAAaL,EAAWA,EAASM,MAAM,KAAOnB,EAAMmB,MAAM,KAC1DC,EAAU,GACVC,EAAY,GAGTC,EAAI,EAAGA,EAAIJ,EAAWD,OAAQK,IAC9BC,MAAML,EAAWI,IAEXJ,EAAWI,GAAGE,MAAM,oBAC3BH,EAAUI,KAAKP,EAAWI,IAF1BF,EAAQK,KAAKC,WAAWR,EAAWI,KAsB3C,OAAOF,EAAQO,QAfC,SAACC,EAAOC,EAAOC,GAC3B,OAAQT,EAAUS,EAAQ,IACtB,IAAK,OACD,OAAOF,EAAQC,EACnB,IAAK,IACD,OAAOD,EAAQC,EACnB,IAAK,IACD,OAAOD,EAAQC,EACnB,IAAK,IACD,OAAOD,EAAQC,EACnB,QACI,OAAOD,MAgFFG,CAASlB,KAIxBmB,EAAc,SAACH,EAAOI,GACxB,OAAQA,GACJ,IAAK,QA7EThC,EAAS,IACTE,EAAiB,KACjBC,OAAYU,GACZL,GAAgB,GA4ER,MACJ,IAAK,YAzES,WAClB,IAAMyB,EAAQ,IAAIC,OAAOjC,EAAgB,KAErCkC,KAAKC,KAAKC,OAAOpC,IAAkB,GACnCD,EAASD,EAAMuC,QAAQL,EAAOE,KAAKI,IAAItC,KACvCC,EAAiBiC,KAAKI,IAAItC,KACnBkC,KAAKC,KAAKC,OAAOpC,IAAkB,IAC1CD,EAASD,EAAMuC,QAAQL,GAAQE,KAAKI,IAAItC,KACxCC,GAAkBiC,KAAKI,IAAItC,KAkEvBuC,GACA,MACJ,IAAK,OACD,GAAsB,MAAlBvC,EACA,MAGR,IAAK,SApEQwC,EAqEIb,EApEjBrB,GACAL,EAAiBmC,OAAO,GAAD,OAAII,IAAOC,YAClC1C,EAAS,GAAD,OAAIyC,IACZjC,GAAgB,KAEhBN,EAAiBmC,OAAO,GAAD,OAAIpC,GAAJ,OAAoBwC,IAAOC,YAClD1C,EAAS,GAAD,OAAID,GAAJ,OAAY0C,KA+DhB,MACJ,IAAK,YA3DU,SAAAE,GACnB,IAAI/B,OAAWC,EAMf,GAJIN,GACAC,GAAgB,GAGhBT,EAAMe,SAAS,YACfF,EAAWb,EAAMgB,UAAU,EAAGhB,EAAMiB,OAAS,IAC7ChB,EAAS,GAAD,OAAIY,EAAJ,oCAAwC+B,EAAxC,kBACL,IAAsB,MAAlB1C,EACP,OAEAD,EAAS,GAAD,OAAID,EAAJ,oCAAqC4C,EAArC,cAEZzC,EAAiB,KACjBC,EAAYwC,GA4CJC,CAAehB,GACf,MACJ,IAAK,UAzCJ3B,EAAc4C,SAAS,OACA7C,EAAS,GAAD,OAAID,EAAlB,MAAlBE,EAAgC,KACpB,MAEZC,EAAiB,GAAD,OAAID,EAAJ,OAuCZ,MACJ,IAAK,SACDU,IACA,MACJ,QACI,OAAOV,EAjFE,IAAAwC,GAqFrB,OACI,wBAAQhC,UAAWA,EAAWqC,GAAIhD,EAAIgD,GAAIC,QAAS,kBAAMhB,EAAYjC,EAAIkD,MAAOlD,EAAIY,QAApF,SACKZ,EAAIkD,S,iBC7IFC,EATC,SAAC,GAAsC,IAArClD,EAAoC,EAApCA,MAAOE,EAA6B,EAA7BA,cAAeK,EAAc,EAAdA,SACpC,OACI,sBAAKG,UAAU,UAAf,UACI,qBAAKA,UAAU,MAAf,SAAuByC,IAAgBnD,KACvC,qBAAKU,UAAU,QAAf,SAAwBH,GAA8B,MAAlBL,EAAwBK,EAAWL,QC4CpEkD,MA9Cf,WAAgB,IAAD,EACaC,mBAAS,IADtB,mBACNrD,EADM,KACCC,EADD,OAE6BoD,mBAAS,KAFtC,mBAENnD,EAFM,KAESC,EAFT,OAGmBkD,wBAASvC,GAH5B,mBAGNP,EAHM,KAGIH,EAHJ,OAI2BiD,oBAAS,GAJpC,mBAIN7C,EAJM,KAIQC,EAJR,KA2Bb,OACE,qBAAKC,UAAU,MAAf,SACC,sBAAKA,UAAU,aAAf,UACE,cAAC,EAAD,CAASV,MAAOA,EAAOE,cAAeA,EAAeK,SAAUA,IAC/D,sBAAKG,UAAU,WAAf,UACC,qBAAKA,UAAU,mBAAf,SA1BU,CACd,CAAEuC,MAAO,KAAMF,GAAI,QAASpC,MAAO,SACnC,CAAEsC,MAAO,OAAKF,GAAI,WAAYpC,MAAO,YACrC,CAAEsC,MAAO,IAAKF,GAAI,WAAYpC,MAAO,YACrC,CAAEsC,MAAO,EAAGF,GAAI,QAASpC,MAAO,UAChC,CAAEsC,MAAO,EAAGF,GAAI,QAASpC,MAAO,UAChC,CAAEsC,MAAO,EAAGF,GAAI,OAAQpC,MAAO,UAC/B,CAAEsC,MAAO,OAAKF,GAAI,SAAUpC,MAAO,YACnC,CAAEsC,MAAO,EAAGF,GAAI,OAAQpC,MAAO,UAC/B,CAAEsC,MAAO,EAAGF,GAAI,OAAQpC,MAAO,UAC/B,CAAEsC,MAAO,EAAGF,GAAI,MAAOpC,MAAO,UAC9B,CAAEsC,MAAO,IAAKF,GAAI,WAAYpC,MAAO,YACrC,CAAEsC,MAAO,EAAGF,GAAI,MAAOpC,MAAO,UAC9B,CAAEsC,MAAO,EAAGF,GAAI,MAAOpC,MAAO,UAC9B,CAAEsC,MAAO,EAAGF,GAAI,QAASpC,MAAO,UAChC,CAAEsC,MAAO,IAAKF,GAAI,MAAOpC,MAAO,YAChC,CAAEsC,MAAO,EAAGF,GAAI,OAAQpC,MAAO,QAC/B,CAAEsC,MAAO,IAAKF,GAAI,UAAWpC,MAAO,WACpC,CAAEsC,MAAO,IAAKF,GAAI,SAAUpC,MAAO,WASpB2C,KAAI,SAACvD,EAAK+B,GACjB,OACE,cAAC,EAAD,CAAoB/B,IAAKA,EAAKC,MAAOA,EAAOC,SAAUA,EAAUC,cAAeA,EAAeC,iBAAkBA,EAAkBI,SAAUA,EAAUH,YAAaA,EAAaI,aAAcA,EAAcC,gBAAiBA,GAAhNqB,QAInB,qBAAKpB,UAAU,qBCtCvB6C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e718707d.chunk.js","sourcesContent":["const Button = ({ btn, input, setInput, currentNumber, setCurrentNumber, previousNumber, setPreviousNumber, operator, setOperator, equalPressed, setEqualPressed }) => {\r\n\r\n    const className = `btn ${btn.class}`;\r\n\r\n    // my safe version of the eval() function\r\n    const safeEval = (newInput) => {\r\n        // return if input is empty\r\n        if (!input) {\r\n            return currentNumber;\r\n        }\r\n\r\n        const inputArray = newInput ? newInput.split(' ') : input.split(' ');\r\n        const numbers = [];\r\n        const operators = [];\r\n\r\n        // capture numbers and operators from input state\r\n        for (let i = 0; i < inputArray.length; i++) {\r\n            if (!isNaN(inputArray[i])) {\r\n                numbers.push(parseFloat(inputArray[i]));\r\n            } else if (inputArray[i].match(/^(\\+|-|x|÷)$/)) {\r\n                operators.push(inputArray[i]);\r\n            }\r\n        }\r\n\r\n        // calculate sum from current inputs\r\n        const reducer = (total, value, index) => {\r\n            switch (operators[index - 1]) {\r\n                case '÷':\r\n                    return total / value;\r\n                case 'x':\r\n                    return total * value;\r\n                case '-':\r\n                    return total - value;\r\n                case '+':\r\n                    return total + value;\r\n                default:\r\n                    return total;\r\n            }\r\n        }\r\n\r\n        return numbers.reduce(reducer);\r\n    }\r\n\r\n    // reset state to intial settings\r\n    const resetState = () => {\r\n        setInput('');\r\n        setCurrentNumber('0');\r\n        setOperator(undefined);\r\n        setEqualPressed(false);\r\n    }\r\n\r\n    // converts positive numbers to negative and vice-versa\r\n    const reverseNumber = () => {\r\n        const regex = new RegExp(currentNumber + '$');\r\n\r\n        if (Math.sign(Number(currentNumber)) < 0) {\r\n            setInput(input.replace(regex, Math.abs(currentNumber)));\r\n            setCurrentNumber(Math.abs(currentNumber));\r\n        } else if (Math.sign(Number(currentNumber)) > 0) {\r\n            setInput(input.replace(regex, -Math.abs(currentNumber)));\r\n            setCurrentNumber(-Math.abs(currentNumber));\r\n        }\r\n    }\r\n\r\n    // add new numbers to state\r\n    const appendNumber = num => {\r\n        if (equalPressed) {\r\n            setCurrentNumber(Number(`${num}`).toString());\r\n            setInput(`${num}`);\r\n            setEqualPressed(false);\r\n        } else {\r\n            setCurrentNumber(Number(`${currentNumber}${num}`).toString());\r\n            setInput(`${input}${num}`); \r\n        }\r\n    }\r\n\r\n    // add operator to formula\r\n    const appendOperator = op => {\r\n        let newInput = undefined;\r\n\r\n        if (equalPressed) {\r\n            setEqualPressed(false);\r\n        }\r\n        \r\n        if (input.endsWith('</span> ')) { // change operator if previously set\r\n            newInput = input.substring(0, input.length - 35);\r\n            setInput(`${newInput} <span class=\"operator\"> ${op} </span> `);\r\n        } else if (currentNumber === '0') { // check a number has been set first\r\n            return;\r\n        } else {\r\n            setInput(`${input} <span class=\"operator\"> ${op} </span> `);\r\n        }\r\n        setCurrentNumber('0');\r\n        setOperator(op);\r\n    }\r\n\r\n    // add decimal point to current number if not present\r\n    const addDecimal = () => {\r\n        if (!currentNumber.includes('.')) {\r\n            currentNumber === '0' ? setInput(`${input}0.`) :\r\n                setInput(`${input}.`);\r\n\r\n            setCurrentNumber(`${currentNumber}.`);\r\n        }\r\n    }\r\n\r\n    // calculate current sum in the input state\r\n    const calculateSum = () => {\r\n        setEqualPressed(true);\r\n        let newInput = undefined;\r\n        \r\n        // remove operator if input ends in one\r\n        if (input.endsWith('</span> ')) {\r\n            newInput = input.substring(0, input.length - 35);\r\n            setInput(newInput);\r\n        }\r\n        setCurrentNumber(safeEval(newInput));\r\n    }\r\n\r\n    // action response to button clicks\r\n    const handleClick = (value, type) => {\r\n        switch (type) {\r\n            case 'reset':\r\n                resetState();\r\n                break;\r\n            case 'negative':\r\n                reverseNumber();\r\n                break;\r\n            case 'zero': // do not allow number to start with zero\r\n                if (currentNumber === '0') {\r\n                    break;\r\n                }\r\n            // eslint-disable-next-line\r\n            case 'number':\r\n                appendNumber(value);\r\n                break;\r\n            case 'operator':\r\n                appendOperator(value);\r\n                break;\r\n            case 'decimal':\r\n                addDecimal();\r\n                break;\r\n            case 'equals':\r\n                calculateSum();\r\n                break;\r\n            default:\r\n                return currentNumber;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <button className={className} id={btn.id} onClick={() => handleClick(btn.label, btn.class)}>\r\n            {btn.label}\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default Button;","import ReactHTMLParser from 'react-html-parser';\r\n\r\nconst Display = ({input, currentNumber, operator}) => {\r\n    return (\r\n        <div className=\"display\">\r\n            <div className=\"sum\" >{ReactHTMLParser(input)}</div>\r\n            <div className=\"total\">{operator && currentNumber === '0' ? operator : currentNumber}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Display;","import { useState } from 'react';\nimport Button from \"./components/Button\";\nimport Display from \"./components/Display\";\n\nfunction App() {\n  const [input, setInput] = useState('');\n  const [currentNumber, setCurrentNumber] = useState('0');\n  const [operator, setOperator] = useState(undefined);\n  const [equalPressed, setEqualPressed] = useState(false);\n\n  const buttons = [\n    { label: 'AC', id: 'clear', class: 'reset'},\n    { label: '±', id: 'negative', class: 'negative'},\n    { label: 'x', id: 'multiply', class: 'operator'},\n    { label: 7, id: 'seven', class: 'number'},\n    { label: 8, id: 'eight', class: 'number'},\n    { label: 9, id: 'nine', class: 'number'},\n    { label: '÷', id: 'divide', class: 'operator'},\n    { label: 4, id: 'four', class: 'number'},\n    { label: 5, id: 'five', class: 'number'},\n    { label: 6, id: 'six', class: 'number'},\n    { label: '-', id: 'subtract', class: 'operator'},\n    { label: 1, id: 'one', class: 'number'},\n    { label: 2, id: 'two', class: 'number'},\n    { label: 3, id: 'three', class: 'number'},\n    { label: '+', id: 'add', class: 'operator'},\n    { label: 0, id: 'zero', class: 'zero'},\n    { label: '.', id: 'decimal', class: 'decimal'},\n    { label: '=', id: 'equals', class: 'equals'}\n  ];\n\n  return (\n    <div className=\"App\">\n     <div className=\"calculator\">\n       <Display input={input} currentNumber={currentNumber} operator={operator} />\n       <div className=\"keyboard\">\n        <div className=\"button-container\">\n          {buttons.map((btn, index) => {\n            return (\n              <Button key={index} btn={btn} input={input} setInput={setInput} currentNumber={currentNumber} setCurrentNumber={setCurrentNumber} operator={operator} setOperator={setOperator} equalPressed={equalPressed} setEqualPressed={setEqualPressed} />\n            )\n          })}\n        </div>\n        <div className=\"speaker\"></div>       \n       </div>\n     </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}